---
title: Docker 部署
description: 我们推荐使用 Docker 运行华炎魔方，生产环境推荐使用 centos 或 ubuntu 操作系统。如果您只是安装测试环境，也可以使用 windows 或 mac 系统。
---

## 安装前准备

- 安装[docker](https://docs.docker.com/get-docker/)
- 安装[docker-compose](https://docs.docker.com/compose/install/)
- 由于镜像存在国外，可配置阿里云[官方镜像加速](https://help.aliyun.com/document_detail/60750.html)

## 私有部署

### 创建文件 docker-compose.yml

下载 docker-compose.yml 模版文件。

- [社区版](https://github.com/steedos/docker/blob/main/steedos-community/docker-compose.yml)
- [企业版](https://github.com/steedos/docker/blob/main/steedos-enterprise/docker-compose.yml)

### 选择 steedos 版本

可以参考[docker hub](https://hub.docker.com/r/steedos/steedos-community/tags?page=1&ordering=last_updated)选择合适的版本号，通常建议运行最新版的 steedos 。

### 设定环境变量

编辑 environment 中的 ROOT_URL 以匹配您的域名或 IP 地址，其他地址默认配置就行

```yaml
environment:
      - PORT=3000
      - ROOT_URL=#在此填入服务运行的正式网址，包含端口号3000。例如 http://192.168.0.200:3000
```

请先 [开通华炎魔方云服务](/docs/deploy/deploy-cloud) 然后 [激活华炎魔方](/docs/deploy/deploy-activate)，环境变量`STEEDOS_CLOUD_SPACE_ID`和`STEEDOS_CLOUD_API_KEY`的值就是其中新建的私有部署记录中的”魔方ID”和”ApiKey”。

### 启动服务

使用 docker 启动服务

```yaml
docker-compose up -d
```


查看服务状态

```yaml
docker ps
```


停止服务

```yaml
docker-compose stop
```


停止并删除服务

```yaml
docker-compose down
```

